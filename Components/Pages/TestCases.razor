@page "/test-cases"
@using better_call_saul.Models.ViewModels
@using better_call_saul.Models

<h3>Test Case Components</h3>

<div class="row mb-4">
    <div class="col-12">
        <h4>Case Status Badges</h4>
        <div class="d-flex gap-2 mb-3">
            <CaseStatusBadge Status="CaseStatus.New" />
            <CaseStatusBadge Status="CaseStatus.InReview" />
            <CaseStatusBadge Status="CaseStatus.NeedsMoreInfo" />
            <CaseStatusBadge Status="CaseStatus.Completed" />
            <CaseStatusBadge Status="CaseStatus.Closed" />
        </div>
    </div>
</div>

<div class="row">
    <div class="col-12">
        <h4>Case Cards</h4>
        <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
            <div class="col">
                <CaseCard Case="@testCase1" OnCaseSelected="HandleCaseSelected" />
            </div>
            <div class="col">
                <CaseCard Case="@testCase2" OnCaseSelected="HandleCaseSelected" />
            </div>
            <div class="col">
                <CaseCard Case="@testCase3" OnCaseSelected="HandleCaseSelected" />
            </div>
        </div>
    </div>
</div>

@if (selectedCaseId.HasValue)
{
    <div class="alert alert-info mt-4">
        Selected Case ID: @selectedCaseId
    </div>
}

@code {
    private better_call_saul.Models.ViewModels.CaseSummary testCase1 = new()
    {
        Id = 1,
        Title = "State v. Johnson",
        Description = "Criminal defense case involving theft charges with multiple witnesses and forensic evidence.",
        Status = CaseStatus.New,
        CreatedAt = DateTime.Now.AddDays(-2),
        DocumentCount = 5
    };

    private better_call_saul.Models.ViewModels.CaseSummary testCase2 = new()
    {
        Id = 2,
        Title = "Smith Contract Dispute",
        Description = "Civil litigation regarding breach of contract with extensive documentation.",
        Status = CaseStatus.InReview,
        CreatedAt = DateTime.Now.AddDays(-5),
        DocumentCount = 12
    };

    private better_call_saul.Models.ViewModels.CaseSummary testCase3 = new()
    {
        Id = 3,
        Title = "Estate Planning - Wilson Family",
        Description = "Comprehensive estate planning including wills, trusts, and power of attorney documents.",
        Status = CaseStatus.Completed,
        CreatedAt = DateTime.Now.AddDays(-10),
        DocumentCount = 8
    };

    private int? selectedCaseId;

    private void HandleCaseSelected(int caseId)
    {
        selectedCaseId = caseId;
    }
}